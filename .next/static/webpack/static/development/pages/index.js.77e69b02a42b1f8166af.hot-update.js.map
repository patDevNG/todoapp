{"version":3,"file":"static/webpack/static/development/pages/index.js.77e69b02a42b1f8166af.hot-update.js","sources":["webpack:///./pages/components/Todo.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport TodoItem from \"./TodoItem\";\nimport AddTodo from \"./AddTodo\";\nimport uuid from \"uuid\";\nimport PropTypes from \"prop-types\";\nimport fetch from \"isomorphic-unfetch\"\n\n\nexport class Todo extends Component {\n  state = {\n    todos: this.props.props.todos,\n   \n  }\n\n  // Toogle todo\n  markComplete = id => {\n    this.setState({\n      todos: this.state.todos.map(todo => {\n        if (todo.id == id) {\n          todo.completed = !todo.completed;\n        }\n        return todo;\n      })\n    });\n  };\n  // delete todo from Ui\n  delTodo = id => {\n    this.setState({\n      todos: this.state.todos.filter(todo => {\n        return todo.id !== id;\n      })\n    });\n   \n  };\n  addTodo = title => {\n    const newTodo = {\n      id: uuid.v4(),\n      title: title,\n      completed: false\n    };\n    this.setState({ todos: [...this.state.todos, newTodo] });\n   \n    async () => {\n      const res = await fetch(\"http://localhost:3500/todo\", {\n        method : 'POST',\n        body: newTodo,\n        headers: new Headers ({\n          'content-type' : 'application/x-wwww-form-urlencoded; charset=utf-8',\n          'Accept': 'application/json'\n        })\n      });\n      const data = await res.json();\n    \n      console.log('my added todos', data);\n      // return {\n      //   todos: data\n      // };\n    };\n  };\n  render() {\n    // console.log('inside todo component', this.props.props.todos);\n    return [\n      <AddTodo addTodo={this.addTodo} />,\n      this.state.todos.map(todo => (\n        <TodoItem\n          key={todo.id}\n          todo={todo}\n          markComplete={this.markComplete}\n          delTodo={this.delTodo}\n        />\n      ))\n    ];\n  }\n}\n// Prop-Types\nTodo.propTypes = {\n  todos: PropTypes.object.isRequired\n};\nexport default Todo;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAEA;AACA;AAFA;AACA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AANA;AAQA;AACA;AAjBA;AAmBA;AACA;AACA;AACA;AAHA;AAMA;AACA;AA1BA;AA2BA;AACA;AACA;AACA;AAHA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAHA;AACA;AAFA;AACA;AADA;AAAA;AACA;AADA;AASA;AAEA;AAEA;AACA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AACA;AAnDA;AAAA;AACA;AADA;AAAA;AAAA;AAmDA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAJA;AADA;AASA;AAhEA;AACA;AADA;AAAA;AACA;AAkEA;AACA;AADA;AAGA;;;;A","sourceRoot":""}